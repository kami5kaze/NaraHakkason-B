import os
from flask import Flask,request, abort
from linebot import LineBotApi,WebhookHandler
from linebot.exceptions import InvalidSignatureError
from linebot.models import RichMenu,RichMenuArea,RichMenuBounds,RichMenuSize
from linebot.models.actions import PostbackAction

app=Flask(__name__)

LineAccessToken = 'UYTYlaQ/QzttY1GSJUQ2MC2BJVbghcHQ/6PCyHs4Kvn5cK7VUD+FRGZfCGVRp/UGYOz61BNXzIyjd7Zdr0ilzBCmsys6QAwN8Y1dSVDu4UOvF/sJDP0B3vFuBnvXzbCPjV03DNQAVCKlApWiqDr25gdB04t89/1O/w1cDnyilFU='

line_bot_api=LineBotApi(LineAccessToken)
handler = WebhookHandler('38c652386d46276dfaa362a222390390')

header = {
    "Content_Type": "application/json",
    "Authorization": "Bearer " + LineAccessToken
}

# def handle_postback(event):
#     data = event.postback.data
#         if data == "":


richMenuCreate = RichMenu(
    size= RichMenuSize(width=800,height=270),
    selected= True,
    name= 'richmenu',
    chat_bar_text='メニュー',
    areas=[
        RichMenuArea(
            bounds=RichMenuBounds( x = 0,y = 0,width=267,height=270),
            action=PostbackAction(data="")
        ),
        RichMenuArea(
            bounds=RichMenuBounds( x = 268,y = 0,width=267,height=270),
            action=PostbackAction(data="")
        ),
        RichMenuArea(
            bounds=RichMenuBounds( x = 535,y = 0,width=267,height=270),
            action=PostbackAction(data="")
        ),
    ]
)

richMenuId = line_bot_api.create_rich_menu(rich_menu=richMenuCreate)

line_bot_api.set_default_rich_menu(richMenuId)

if __name__ == "__main__":
    port = int(os.getenv("port",5000))
    app.run(host="0.0.0.0",port=port,debug=False)
